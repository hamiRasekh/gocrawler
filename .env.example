# ============================================
# Go Crawler - Environment Variables Template
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ============================================
# Server Configuration
# ============================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8009
API_PREFIX=/api/v1
CORS_ORIGIN=*

# ============================================
# Database Configuration (REQUIRED)
# ============================================
# PostgreSQL connection settings
DB_HOST=localhost
DB_PORT=5432
DB_USER=crawler
DB_PASSWORD=your_secure_password_here
DB_NAME=crawler_db
DB_SSLMODE=disable

# For Docker Compose, also set:
POSTGRES_USER=crawler
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=crawler_db

# ============================================
# Authentication & Security (REQUIRED)
# ============================================
# JWT Secret - MUST be a strong random string (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_key_here_minimum_32_characters

# Token expiration settings
JWT_EXPIRATION=24h
REFRESH_TOKEN_EXPIRATION=168h
ADMIN_TOKEN_LIFETIME=8760h

# Rate limiting for authentication endpoints
AUTH_RATE_LIMIT_REQUESTS=5
AUTH_RATE_LIMIT_WINDOW=15m

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================
# Crawler Configuration
# ============================================
MAX_WORKERS=10
RATE_LIMIT_PER_SECOND=5
REQUEST_TIMEOUT=30s
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_MULTIPLIER=2

# ============================================
# Browser Configuration
# ============================================
HEADLESS=true
BROWSER_TIMEOUT=60s
USER_DATA_DIR=/tmp/browser-data

# ============================================
# Proxy Configuration
# ============================================
PROXY_ENABLED=true
PROXY_HEALTH_CHECK_INTERVAL=5m
PROXY_MAX_FAILURES=3

# ============================================
# Embroidery API Configuration (Optional)
# ============================================
# These are optional and only needed if using the embroidery-specific crawler
EMBROIDERY_BASE_URL=https://www.embroiderydesigns.com/es/prdsrch
EMBROIDERY_AUTH_TOKEN=
EMBROIDERY_COOKIES=
EMBROIDERY_PAGE_SIZE=120
EMBROIDERY_CHECK_INTERVAL=6h

# ============================================
# Security Notes
# ============================================
# 1. Never commit .env file to version control
# 2. Use strong, unique passwords for production
# 3. Generate JWT_SECRET using: openssl rand -base64 32
# 4. Set CORS_ORIGIN to your frontend domain in production (not *)
# 5. Use SSL/TLS in production (set DB_SSLMODE=require)
# 6. Regularly rotate secrets and passwords
